<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Galer√≠a Virtual</title>
  <style>
    :root{
      --bg:#f3f2ef;
      --ink:#2a2a2a;
      --card:#ffffff;
      --muted:#8a8a8a;
      --radius:16px;
      --shadow:0 6px 20px rgba(0,0,0,.12);
      --gap:clamp(12px, 3vw, 28px);
      --rail-pad:clamp(12px, 6vw, 64px);
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
      background:var(--bg);
      color:var(--ink);
      display:flex;
      flex-direction:column;
      min-height:100vh;
    }

    header{padding:24px var(--rail-pad) 8px;text-align:center;}
    h1{margin:0 0 6px;font-size:clamp(20px,3.2vw,36px);font-weight:700;letter-spacing:.02em;}
    .sub{margin:0;color:var(--muted);font-size:clamp(12px,1.8vw,14px);}

    .rail-wrap{position:relative;padding:10px 0 32px;}
    .rail{
      display:flex;
      gap:var(--gap);
      overflow-x:auto;
      overscroll-behavior-x:contain;
      scroll-snap-type:x mandatory;
      padding:8px var(--rail-pad) 24px;
      scrollbar-width:none;
      perspective: 1000px;           /* para el efecto 3D */
    }
    .rail::-webkit-scrollbar{display:none}

    .card{
      scroll-snap-align:center;
      background:var(--card);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      flex:0 0 auto;
      width:clamp(140px, 24vw, 280px);
      aspect-ratio: 3 / 4;
      display:flex;
      align-items:center;
      justify-content:center;
      overflow:hidden;

      /* valores din√°micos que setea JS */
      --scale:1;
      --tilt:0deg;
      --alpha:1;
      --elev:0;

      transform: translateZ(var(--elev)) rotateY(var(--tilt)) scale(var(--scale));
      opacity: var(--alpha);
      transition: transform .25s ease, box-shadow .25s ease, opacity .2s ease;
    }
    .card:hover{ box-shadow: 0 10px 28px rgba(0,0,0,.16); }

    .card img{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
      user-select:none;
      -webkit-user-drag:none;
    }

    .ctrl{display:none;}
    @media (min-width: 900px){
      .ctrl{
        display:block;
        position:absolute; top:50%; transform:translateY(-50%);
        background:rgba(255,255,255,.85);
        border:none; width:42px; height:42px;
        border-radius:999px; box-shadow:var(--shadow); cursor:pointer;
      }
      .ctrl.left{left:calc(var(--rail-pad) / 2);}
      .ctrl.right{right:calc(var(--rail-pad) / 2);}
      .ctrl:active{transform:translateY(-50%) scale(.98);}
    }

    footer{margin-top:auto;padding:16px;text-align:center;color:var(--muted);font-size:12px;}
  </style>
</head>
<body>
  <header>
    <h1>Galer√≠a</h1>
    <p class="sub">Swipe en m√≥vil ‚Ä¢ Usa las flechas en desktop</p>
  </header>

  <section class="rail-wrap">
    <button class="ctrl left" aria-label="Anterior">‚Üê</button>
    <div class="rail" id="rail"></div>
    <button class="ctrl right" aria-label="Siguiente">‚Üí</button>
  </section>

  <footer>¬© Tu proyecto</footer>

  <script>
    // EDITA ESTO üëá
    const folder = "imagenes/";
    const imageNames = ["morado.png","paneo1.png","pocima.png"];
    // üëÜ ‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî

    const rail = document.getElementById("rail");

    // Render
    imageNames.forEach(name=>{
      const card = document.createElement("figure");
      card.className = "card";
      const img = document.createElement("img");
      img.loading = "lazy";
      img.decoding = "async";
      img.src = folder + name;
      img.alt = "";
      card.appendChild(img);
      rail.appendChild(card);
    });

    // Botones desktop
    const btnL = document.querySelector(".ctrl.left");
    const btnR = document.querySelector(".ctrl.right");
    const scrollAmount = () => {
      const c = rail.querySelector(".card");
      return c ? c.getBoundingClientRect().width * 2.5 : 300;
    };
    btnL.addEventListener("click", () => rail.scrollBy({ left: -scrollAmount(), behavior: "smooth" }));
    btnR.addEventListener("click", () => rail.scrollBy({ left:  scrollAmount(), behavior: "smooth" }));

    // ‚Äî‚Äî Efecto 3D: escala, opacidad y tilt seg√∫n distancia al centro ‚Äî‚Äî
    let ticking = false;
    function updateDepth(){
      const cards = [...rail.children];
      const rr = rail.getBoundingClientRect();
      const center = rr.left + rr.width/2;

      cards.forEach((el, i) => {
        const r = el.getBoundingClientRect();
        const mid = r.left + r.width/2;
        const dx = mid - center;                // distancia al centro (px)
        const w  = rr.width/2;                  // semiancho visible
        const t  = Math.min(1, Math.abs(dx)/w); // 0 = centro, 1 = borde

        // Par√°metros (aj√∫stalos a tu gusto)
        const minScale = 0.85, maxScale = 1.25;
        const scale = minScale + (1 - t) * (maxScale - minScale);

        const minAlpha = 0.55;                  // opacidad en los bordes
        const alpha = minAlpha + (1 - t) * (1 - minAlpha);

        const maxTilt = 12;                     // grados m√°x de inclinaci√≥n
        const tilt = (dx / w) * maxTilt;        // signo cambia izquierda/derecha

        const elev = (1 - t) * 60 + "px";       // ‚Äúsalto‚Äù hacia el espectador

        el.style.setProperty("--scale", scale.toFixed(3));
        el.style.setProperty("--alpha", alpha.toFixed(3));
        el.style.setProperty("--tilt",  tilt.toFixed(3) + "deg");
        el.style.setProperty("--elev",  elev);
        el.style.zIndex = String(1000 - Math.round(t * 1000)); // centra por z
      });
      ticking = false;
    }

    function onScroll(){
      if (!ticking){
        window.requestAnimationFrame(updateDepth);
        ticking = true;
      }
    }

    rail.addEventListener("scroll", onScroll, { passive:true });
    window.addEventListener("resize", updateDepth);
    updateDepth(); // inicial
  </script>
</body>
</html>
